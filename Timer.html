<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Love Timeline</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff0f5;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }

    h1 {
      margin-bottom: 1rem;
      color: #d63384;
    }

    .event-card {
      background: #fff;
      border: 2px solid #d63384;
      border-radius: 1rem;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      width: 100%;
      max-width: 400px;
    }

    input[type="text"],
    input[type="date"] {
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
      width: 100%;
      box-sizing: border-box;
      font-size: 1rem;
    }

    .event-time {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }

    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      background: #d63384;
      color: white;
    }

    button:hover {
      background: #b82a6d;
    }

    #addEventBtn {
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <h1>💕 Our Love Timeline</h1>
  <div id="eventsList"></div>
  <button id="addEventBtn">➕ Add Date</button>

  <script>
    let events = [];

    function promptInitialDate() {
      const date = prompt("When did your love story begin? (YYYY-MM-DD)");
      if (date && !isNaN(Date.parse(date))) {
        events.push({ name: "Together Since", date: date });
      } else {
        alert("Invalid date format. Try again!");
        promptInitialDate();
      }
    }

    function renderEvents() {
      const eventsList = document.getElementById('eventsList');
      eventsList.innerHTML = '';

      events.forEach((event, index) => {
        const container = document.createElement('div');
        container.className = 'event-card';
        container.id = `event-${index}`;

        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.value = event.name;
        nameInput.disabled = true;

        const dateInput = document.createElement('input');
        dateInput.type = 'date';
        dateInput.value = event.date;
        dateInput.disabled = true;

        const timeDisplay = document.createElement('div');
        timeDisplay.className = 'event-time';
        timeDisplay.id = `event-time-${index}`;

        const deleteButton = document.createElement('button');
        deleteButton.textContent = '🗑️ Delete';
        deleteButton.onclick = () => {
          events.splice(index, 1);
          renderEvents();
        };

        container.appendChild(nameInput);
        container.appendChild(dateInput);
        container.appendChild(timeDisplay);
        container.appendChild(deleteButton);

        eventsList.appendChild(container);
      });
    }

    function updateTimers() {
      events.forEach((event, index) => {
        const eventDate = new Date(event.date + "T00:00:00");
        const now = new Date();
        let diff = now - eventDate;

        if (diff < 0) diff = 0;

        let totalSeconds = Math.floor(diff / 1000);
        const seconds = totalSeconds % 60;
        const totalMinutes = Math.floor(totalSeconds / 60);
        const minutes = totalMinutes % 60;
        const totalHours = Math.floor(totalMinutes / 60);
        const hours = totalHours % 24;
        const totalDays = Math.floor(totalHours / 24);

        const years = Math.floor(totalDays / 365.25);
        const months = Math.floor((totalDays % 365.25) / 30.44);
        const days = Math.floor((totalDays % 365.25) % 30.44);

        const display = document.getElementById(`event-time-${index}`);
        if (display) {
          display.textContent = `⏳ ${years}y ${months}m ${days}d ${hours}h ${minutes}m ${seconds}s`;
        }
      });
    }

    document.getElementById('addEventBtn').addEventListener('click', () => {
      const name = prompt("Name of the event?");
      const date = prompt("Date of the event? (YYYY-MM-DD)");

      if (!name || !date || isNaN(Date.parse(date))) {
        alert("Please enter a valid name and date!");
        return;
      }

      events.push({ name, date });
      renderEvents();
    });

    // Initialize
    promptInitialDate();
    renderEvents();
    setInterval(updateTimers, 1000);
  </script>
</body>
</html>
