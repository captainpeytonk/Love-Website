<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸ’˜ Love Timer</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 50px;
      background: #fff0f5;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    #timer {
      font-size: 1.8rem;
      color: #ff1493;
    }
    #dateInputWrapper {
      margin-top: 30px;
    }
    input[type="date"] {
      font-size: 1.2rem;
      padding: 10px;
      border: 2px solid #ff69b4;
      border-radius: 8px;
    }
    button {
      margin-left: 10px;
      font-size: 1.2rem;
      padding: 10px 15px;
      background: #ff69b4;
      border: none;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>ðŸ’‘ We've been in love for:</h1>
  <div id="timer">Loading...</div>

  <div id="dateInputWrapper">
    <p>When did your love story begin?</p>
    <input type="date" id="startDateInput">
    <button onclick="setStartDate()">Start</button>
  </div>

  <script>
    const timerEl = document.getElementById('timer');
    const inputWrapper = document.getElementById('dateInputWrapper');
    const inputEl = document.getElementById('startDateInput');

    let startDate;

    function setStartDate() {
      const inputDate = inputEl.value;
      if (!inputDate) return alert("Please select a date!");
      localStorage.setItem("loveStartDate", inputDate);
      startDate = new Date(inputDate + "T00:00:00");
      inputWrapper.style.display = "none";
      updateTimer();
      setInterval(updateTimer, 1000);
    }

    function updateTimer() {
      const now = new Date();
      let diff = now - startDate;
      if (diff < 0) return timerEl.textContent = "That date is in the future!";

      let totalSeconds = Math.floor(diff / 1000);
      const seconds = totalSeconds % 60;
      const totalMinutes = Math.floor(totalSeconds / 60);
      const minutes = totalMinutes % 60;
      const totalHours = Math.floor(totalMinutes / 60);
      const hours = totalHours % 24;
      const totalDays = Math.floor(totalHours / 24);

      const years = Math.floor(totalDays / 365.25);
      const months = Math.floor((totalDays % 365.25) / 30.44);
      const days = Math.floor((totalDays % 365.25) % 30.44);

      timerEl.innerHTML =
        `${years} years, ${months} months, ${days} days,<br>` +
        `${hours} hours, ${minutes} minutes, ${seconds} seconds ðŸ’–`;
    }

    // Auto-load stored date if available
    const savedDate = localStorage.getItem("loveStartDate");
    if (savedDate) {
      startDate = new Date(savedDate + "T00:00:00");
      inputWrapper.style.display = "none";
      updateTimer();
      setInterval(updateTimer, 1000);
    }
  </script>

</body>
</html>
