<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Love Timeline</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff0f5;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }

    h1 {
      margin-bottom: 1rem;
      color: #d63384;
    }

    .event-card {
      background: #fff;
      border: 2px solid #d63384;
      border-radius: 1rem;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      width: 100%;
      max-width: 400px;
    }

    .event-time {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }

    input[type="text"],
    input[type="date"] {
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
      width: 100%;
      box-sizing: border-box;
      font-size: 1rem;
    }

    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      background: #d63384;
      color: white;
      margin-top: 0.5rem;
    }

    button:hover {
      background: #b82a6d;
    }

    #addEventForm, #initialForm {
      background: #fff;
      border: 2px dashed #d63384;
      border-radius: 1rem;
      padding: 1rem;
      margin-bottom: 2rem;
      width: 100%;
      max-width: 400px;
      text-align: center;
    }

    #eventsList {
      width: 100%;
      max-width: 400px;
    }
  </style>
</head>
<body>
  <h1>💕 Our Love Timeline</h1>

  <div id="initialForm">
    <h3>Start Your Love Story</h3>
    <input type="text" id="initialName" placeholder="Event name (e.g., Together Since)" required />
    <input type="date" id="initialDate" required />
    <button onclick="addInitialEvent()">Start</button>
  </div>

  <div id="eventsList"></div>

  <div id="addEventForm" style="display: none;">
    <h3>Add Another Memory</h3>
    <input type="text" id="newEventName" placeholder="Event name" />
    <input type="date" id="newEventDate" />
    <button onclick="addNewEvent()">➕ Add</button>
  </div>

  <script>
    let events = [];

    function addInitialEvent() {
      const name = document.getElementById('initialName').value.trim();
      const date = document.getElementById('initialDate').value;

      if (!name || !date) {
        alert("Please fill in both fields.");
        return;
      }

      events.push({ name, date });
      document.getElementById('initialForm').style.display = 'none';
      document.getElementById('addEventForm').style.display = 'block';
      renderEvents();
    }

    function addNewEvent() {
      const name = document.getElementById('newEventName').value.trim();
      const date = document.getElementById('newEventDate').value;

      if (!name || !date) {
        alert("Please enter both name and date.");
        return;
      }

      events.push({ name, date });
      document.getElementById('newEventName').value = '';
      document.getElementById('newEventDate').value = '';
      renderEvents();
    }

    function renderEvents() {
      const container = document.getElementById('eventsList');
      container.innerHTML = '';

      events.forEach((event, index) => {
        const card = document.createElement('div');
        card.className = 'event-card';

        const title = document.createElement('div');
        title.innerHTML = `<strong>${event.name}</strong> (${event.date})`;

        const timer = document.createElement('div');
        timer.className = 'event-time';
        timer.id = `timer-${index}`;

        const del = document.createElement('button');
        del.textContent = '🗑️ Delete';
        del.onclick = () => {
          events.splice(index, 1);
          renderEvents();
        };

        card.appendChild(title);
        card.appendChild(timer);
        card.appendChild(del);
        container.appendChild(card);
      });
    }

    function updateTimers() {
      events.forEach((event, index) => {
        const eventDate = new Date(event.date + "T00:00:00");
        const now = new Date();
        let diff = now - eventDate;

        if (diff < 0) diff = 0;

        let totalSeconds = Math.floor(diff / 1000);
        const seconds = totalSeconds % 60;
        const totalMinutes = Math.floor(totalSeconds / 60);
        const minutes = totalMinutes % 60;
        const totalHours = Math.floor(totalMinutes / 60);
        const hours = totalHours % 24;
        const totalDays = Math.floor(totalHours / 24);

        const years = Math.floor(totalDays / 365.25);
        const months = Math.floor((totalDays % 365.25) / 30.44);
        const days = Math.floor((totalDays % 365.25) % 30.44);

        const text = `⏳ ${years}y ${months}m ${days}d ${hours}h ${minutes}m ${seconds}s`;

        const timerEl = document.getElementById(`timer-${index}`);
        if (timerEl) {
          timerEl.textContent = text;
        }
      });
    }

    setInterval(updateTimers, 1000);
  </script>
</body>
</html>
